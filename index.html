<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Rabika's Burguer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#06003a,#0a045a,#03001f);
  color:#fff;
  display:flex;
  justify-content:center;
}

/* CONTAINER */
#app{
  width:100%;
  max-width:420px;
  padding:16px 16px 320px;
  display:none;
}

/* SPLASH */
#splash{
  position:fixed;
  inset:0;
  background:linear-gradient(180deg,#05002e,#020018);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.splash-box{text-align:center}
.splash-logo{
  width:85vw;
  max-width:340px;
  margin-bottom:24px;
}
.splash-btn{
  background:linear-gradient(135deg,#FFD34D,#FFB000);
  border:none;
  padding:18px 48px;
  border-radius:50px;
  font-size:22px;
  font-weight:900;
  color:#2b0033;
  cursor:pointer;
}

/* TOPO */
.title{
  text-align:center;
  font-size:30px;
  font-weight:900;
  color:#FFD34D;
  margin-bottom:10px;
}

#closedBanner{
  background:#b00020;
  color:#fff;
  text-align:center;
  padding:12px;
  border-radius:18px;
  font-weight:600;
  margin-bottom:12px;
  display:none;
}

/* BUSCA */
.search{
  width:100%;
  padding:14px 18px;
  border-radius:22px;
  border:none;
  font-size:15px;
  margin-bottom:14px;
}

/* TABS */
.tabs{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-bottom:16px;
}
.tab{
  background:#fff;
  color:#2b0033;
  padding:14px 10px;
  border-radius:20px;
  font-weight:800;
  text-align:center;
  cursor:pointer;
}
.tab.active{
  background:#FFD34D;
}

/* BOX */
.box{
  background:#fff;
  color:#2b0033;
  border-radius:26px;
  padding:16px;
  margin-bottom:18px;
  display:none;
}
.box.active{display:block}

/* ITEM */
.item{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:10px;
  padding:12px 0;
  border-bottom:1px dashed #ddd;
  align-items:center;
}
.item:last-child{border:none}

.item-name{font-weight:600}
.item-price{font-weight:900;color:#5a0070}

.btn-add{
  background:#5a0070;
  color:#fff;
  border:none;
  border-radius:14px;
  padding:6px 14px;
  font-weight:900;
  cursor:pointer;
}

/* SUB BOT√ÉO */
.sub-btn{
  background:#eee;
  color:#5a0070;
  padding:10px;
  border-radius:14px;
  text-align:center;
  font-weight:800;
  margin:12px 0;
  cursor:pointer;
}

/* CARRINHO */
#cart{
  position:fixed;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  width:100%;
  max-width:420px;
  background:#fff;
  color:#2b0033;
  padding:16px;
  border-radius:26px 26px 0 0;
  display:none;
  box-shadow:0 -6px 20px rgba(0,0,0,.25);
}
.cart-item{
  display:flex;
  justify-content:space-between;
  font-weight:700;
  margin-bottom:6px;
}
.total{
  font-size:18px;
  font-weight:900;
  text-align:right;
}
.finish{
  background:#25D366;
  color:#fff;
  padding:14px;
  border-radius:24px;
  font-weight:900;
  text-align:center;
  margin-top:12px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- SPLASH -->
<div id="splash">
  <div class="splash-box">
    <img src="logo.png" class="splash-logo">
    <button class="splash-btn" onclick="startApp()">FAZER PEDIDO</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="title">Rabika's Burguer</div>

  <div id="closedBanner">
    üî¥ Estamos fechados ‚Äî Ter√ßa a Domingo das 18:30 √†s 22:30
  </div>

  <input class="search" placeholder="Pesquisar no card√°pio..." oninput="handleSearch(this.value)">

  <div class="tabs">
    <div class="tab active" onclick="openTab('lanches',this)">üçî Lanches</div>
    <div class="tab" onclick="openTab('porcoes',this)">üçü Por√ß√µes</div>
    <div class="tab" onclick="openTab('pasteis',this)">ü•ü Past√©is</div>
    <div class="tab" onclick="openTab('acai',this)">üç® A√ßa√≠</div>
    <div class="tab" onclick="openTab('bebidas',this)">ü•§ Bebidas</div>
  </div>

  <div id="lanches" class="box active"></div>
  <div id="porcoes" class="box"></div>
  <div id="pasteis" class="box"></div>
  <div id="acai" class="box"></div>
  <div id="bebidas" class="box"></div>
</div>

<!-- CARRINHO -->
<div id="cart">
  <div id="cartItems"></div>
  <div class="total" id="total">Total: R$ 0,00</div>
  <div class="finish" onclick="finishOrder()">Finalizar Pedido</div>
</div>
<script>
/* =========================
   ESTADO GLOBAL
========================= */
const TAXA_ENTREGA = 8;
let cart = [];
let currentTab = "lanches";
let searchText = "";

/* =========================
   HOR√ÅRIO DE FUNCIONAMENTO
========================= */
function isOpen(){
  const d = new Date();
  const day = d.getDay(); // 0 dom, 1 seg
  const hour = d.getHours() + d.getMinutes()/60;

  if(day === 1) return false; // segunda fechado
  if(hour < 18.5 || hour > 22.5) return false;
  return true;
}

function startApp(){
  document.getElementById("splash").style.display = "none";
  document.getElementById("app").style.display = "block";
  updateOpenStatus();
  renderAll();
}

function updateOpenStatus(){
  document.getElementById("closedBanner").style.display =
    isOpen() ? "none" : "block";
}

/* =========================
   PRODUTOS (COMPLETOS)
========================= */
const produtos = [
  /* LANCHES */
  {id:'L01',nome:'X-Salada',preco:17,categoria:'lanches',ativo:true},
  {id:'L02',nome:'X-Burguer',preco:14,categoria:'lanches',ativo:true},
  {id:'L03',nome:'X-Frango',preco:22,categoria:'lanches',ativo:true},
  {id:'L04',nome:'X-Frango Cremoso',preco:20,categoria:'lanches',ativo:true},
  {id:'L05',nome:'X-Bacon',preco:25,categoria:'lanches',ativo:true},
  {id:'L06',nome:'X-Calabresa',preco:25,categoria:'lanches',ativo:true},
  {id:'L07',nome:'X-Cora√ß√£o',preco:27,categoria:'lanches',ativo:true},
  {id:'L08',nome:'X-Tudo',preco:32,categoria:'lanches',ativo:true},
  {id:'L09',nome:'X-Burguer Duplo',preco:22,categoria:'lanches',ativo:true},
  {id:'L10',nome:'X-Egg',preco:20,categoria:'lanches',ativo:true},
  {id:'L11',nome:'X-Tribom',preco:32,categoria:'lanches',ativo:true},
  {id:'L12',nome:'X-Da Casa',preco:45,categoria:'lanches',ativo:true},
  {id:'L13',nome:'X-Dog',preco:20,categoria:'lanches',ativo:true},

  /* POR√á√ïES */
  {id:'P01',nome:'Fritas',preco:24.99,categoria:'porcoes',ativo:true},
  {id:'P02',nome:'Fritas c/ Frango',preco:39.99,categoria:'porcoes',ativo:true},
  {id:'P03',nome:'Fritas c/ Calabresa',preco:34.99,categoria:'porcoes',ativo:true},
  {id:'P04',nome:'Fritas c/ Bacon',preco:34.99,categoria:'porcoes',ativo:true},
  {id:'P05',nome:'An√©is de Cebola',preco:24.99,categoria:'porcoes',ativo:true},
  {id:'P06',nome:'Fritas c/ Bacon, Calabresa e Queijo',preco:39.99,categoria:'porcoes',ativo:true},
  {id:'P07',nome:'Fritas c/ Bacon Cheddar',preco:39.99,categoria:'porcoes',ativo:true},
  {id:'P08',nome:'Fritas c/ Polenta e Frango',preco:39.99,categoria:'porcoes',ativo:true},
  {id:'P09',nome:'Fritas c/ Polenta',preco:24.99,categoria:'porcoes',ativo:true},
  {id:'P10',nome:'Fritas c/ Calabresa e Catupiry',preco:35.99,categoria:'porcoes',ativo:true},
  {id:'P11',nome:'Fritas, Polenta, Chuleta e Anel de Cebola',preco:49.99,categoria:'porcoes',ativo:true},

  /* PAST√âIS */
  {id:'PA01',nome:'Pastel de Carne',preco:14,categoria:'pasteis',ativo:true},
  {id:'PA02',nome:'Pastel de Frango',preco:12,categoria:'pasteis',ativo:true},
  {id:'PA03',nome:'Frango Bacon Cheddar',preco:16,categoria:'pasteis',ativo:true},
  {id:'PA04',nome:'Bacon Cheddar',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA05',nome:'Calabresa c/ Cebola',preco:14,categoria:'pasteis',ativo:true},
  {id:'PA06',nome:'Carne e Queijo',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA07',nome:'Queijo',preco:14,categoria:'pasteis',ativo:true},
  {id:'PA08',nome:'Chocolate ao Leite',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA09',nome:'Banana Queijo Canela',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA10',nome:'Romeu e Julieta',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA11',nome:'Chocolate Branco',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA12',nome:'Creme e Ouro Branco',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA13',nome:'Creme e Sonho de Valsa',preco:15,categoria:'pasteis',ativo:true},

  /* A√áA√ç */
  {id:'A01',nome:'A√ßa√≠ 300ml',preco:12,categoria:'acai',ativo:true},
  {id:'A02',nome:'A√ßa√≠ 400ml',preco:15,categoria:'acai',ativo:true},
  {id:'A03',nome:'A√ßa√≠ 500ml',preco:18,categoria:'acai',ativo:true},

  /* BEBIDAS */
  {id:'B01',nome:'Cassulinha 200ml',preco:3,categoria:'bebidas',ativo:true},
  {id:'B02',nome:'Coca-Cola 600ml',preco:8,categoria:'bebidas',ativo:true},
  {id:'B03',nome:'Coca-Cola 2L',preco:16,categoria:'bebidas',ativo:true},
  {id:'B04',nome:'Refri Lata',preco:6,categoria:'bebidas',ativo:true},
  {id:'B05',nome:'Refrigerante 2L',preco:12,categoria:'bebidas',ativo:true},
  {id:'B06',nome:'Cerveja Lata 350ml',preco:6,categoria:'bebidas',ativo:true},
  {id:'B07',nome:'Achocolatado 200ml',preco:3,categoria:'bebidas',ativo:true}
];

/* =========================
   ADICIONAIS
========================= */
const adicionaisLanches = [
  {nome:'Calabresa',preco:7},
  {nome:'Bacon',preco:7},
  {nome:'Cora√ß√£o',preco:8},
  {nome:'Ovo',preco:3},
  {nome:'Salsicha',preco:4},
  {nome:'Frango',preco:7},
  {nome:'Cheddar',preco:4},
  {nome:'Hamb√∫rguer artesanal',preco:10},
  {nome:'Maionese caseira',preco:2}
];

const adicionaisAcai = [
  {nome:'Pa√ßoca',preco:2},
  {nome:'Leite em p√≥',preco:4},
  {nome:'Granola',preco:4},
  {nome:'Morango',preco:4},
  {nome:'M&M',preco:3},
  {nome:'Ouro Branco',preco:3},
  {nome:'Banana',preco:2},
  {nome:'Sonho de Valsa',preco:3},
  {nome:'Leite Condensado',preco:3},
  {nome:'Nutella',preco:4}
];

/* =========================
   TABS
========================= */
function openTab(cat,el){
  currentTab = cat;
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  if(el) el.classList.add('active');

  document.querySelectorAll('.box').forEach(b=>b.classList.remove('active'));
  document.getElementById(cat).classList.add('active');
  renderAll();
}

/* =========================
   BUSCA
========================= */
function handleSearch(val){
  searchText = val.toLowerCase().trim();
  renderAll();
}

/* =========================
   RENDERIZA√á√ÉO
========================= */
function renderAll(){
  ['lanches','porcoes','pasteis','acai','bebidas'].forEach(cat=>{
    const box = document.getElementById(cat);
    box.innerHTML = '';

    produtos
      .filter(p=>p.categoria===cat && p.ativo)
      .filter(p=>p.nome.toLowerCase().includes(searchText))
      .forEach(p=>{
        box.innerHTML += `
          <div class="item">
            <span class="item-name">${p.nome}</span>
            <span class="item-price">R$ ${p.preco.toFixed(2).replace('.',',')}</span>
            <button class="btn-add" onclick="addToCart('${p.nome}',${p.preco})">+</button>
          </div>
        `;
      });

    if(cat==='lanches'){
      box.innerHTML += `<div class="sub-btn" onclick="toggle('extrasLanches')">‚ûï Adicionais para Lanches</div>
      <div id="extrasLanches" style="display:none">${renderExtras(adicionaisLanches)}</div>`;
    }

    if(cat==='acai'){
      box.innerHTML += `<div class="sub-btn" onclick="toggle('extrasAcai')">‚ûï Adicionais do A√ßa√≠</div>
      <div id="extrasAcai" style="display:none">${renderExtras(adicionaisAcai)}</div>`;
    }
  });
}

function renderExtras(lista){
  return lista.map(a=>`
    <div class="item">
      <span>${a.nome}</span>
      <span>R$ ${a.preco.toFixed(2).replace('.',',')}</span>
      <button class="btn-add" onclick="addToCart('${a.nome}',${a.preco})">+</button>
    </div>
  `).join('');
}

function toggle(id){
  const el = document.getElementById(id);
  el.style.display = el.style.display === 'none' ? 'block' : 'none';
}

/* =========================
   CARRINHO
========================= */
function addToCart(nome,preco){
  if(!isOpen()){
    alert("Estamos fechados.\nTer√ßa a Domingo das 18:30 √†s 22:30");
    return;
  }
  cart.push({nome,preco});
  updateCart();
}

function updateCart(){
  const box = document.getElementById("cart");
  const list = document.getElementById("cartItems");
  let total = 0;
  list.innerHTML = '';

  cart.forEach(i=>{
    total += i.preco;
    list.innerHTML += `
      <div class="cart-item">
        <span>${i.nome}</span>
        <span>R$ ${i.preco.toFixed(2).replace('.',',')}</span>
      </div>
    `;
  });

  document.getElementById("total").innerText =
    "Total: R$ " + total.toFixed(2).replace('.',',');

  box.style.display = cart.length ? "block" : "none";
}
</script>
<script>
/* =========================
   FINALIZAR PEDIDO
   (PERGUNTA SOBRE BEBIDA)
========================= */
function finishOrder(){
  if(cart.length === 0){
    alert("Seu carrinho est√° vazio");
    return;
  }

  // verifica se j√° tem bebida no carrinho
  const temBebida = cart.some(i => {
    return [
      'Cassulinha 200ml',
      'Coca-Cola 600ml',
      'Coca-Cola 2L',
      'Refri Lata',
      'Refrigerante 2L',
      'Cerveja Lata 350ml',
      'Achocolatado 200ml'
    ].includes(i.nome);
  });

  if(!temBebida){
    const resp = confirm(
      "Voc√™ ainda n√£o adicionou bebidas.\nDeseja ver as op√ß√µes de bebidas?"
    );
    if(resp){
      // abre a aba de bebidas
      const tabs = document.querySelectorAll(".tab");
      openTab("bebidas", tabs[4]);
      return;
    }
  }

  sendOrder();
}

/* =========================
   ENVIO WHATSAPP
========================= */
function sendOrder(){
  let msg = "üçî *Pedido Rabika's Burguer*\n\n";
  let total = 0;

  cart.forEach(i=>{
    msg += `‚Ä¢ ${i.nome} ‚Äî R$ ${i.preco.toFixed(2).replace('.',',')}\n`;
    total += i.preco;
  });

  msg += `\n*Total: R$ ${total.toFixed(2).replace('.',',')}*`;

  const url =
    "https://wa.me/554991789706?text=" +
    encodeURIComponent(msg);

  window.open(url, "_blank");
}
</script>

</body>
</html>
